<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Happy Birthday My Love</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">
  <style>
    body {
      margin: 0;
      height: 100vh;
      display: flex;
      justify-content: center;
      align-items: center;
      background: linear-gradient(135deg, #ffdde1, #ee9ca7);
      overflow: hidden;
      font-family: 'Poppins', sans-serif;
    }
    .gift {
      width: 150px;
      height: 150px;
      background: pink;
      position: relative;
      cursor: pointer;
      box-shadow: 0 5px 15px rgba(0,0,0,0.3);
      border-radius: 10px;
      animation: bounce 1s infinite;
      transition: transform 0.6s ease, opacity 0.6s ease;
    }
    .gift.opened {
      transform: scale(1.3) rotate(10deg);
      opacity: 0;
    }
    .gift::before, .gift::after {
      content: '';
      position: absolute;
      background: red;
    }
    .gift::before {
      width: 30px;
      height: 150px;
      left: 60px;
    }
    .gift::after {
      height: 30px;
      width: 150px;
      top: 60px;
    }
    .lid {
      width: 170px;
      height: 40px;
      background: pink;
      position: absolute;
      top: -40px;
      left: -10px;
      border-radius: 5px 5px 0 0;
    }
    @keyframes bounce {
      0%, 100% { transform: translateY(0); }
      50% { transform: translateY(-15px); }
    }
    .hearts, .quiz, .bear {
      display: none;
      text-align: center;
      z-index: 10;
    }
    .instruction {
      color: #fff;
      font-weight: 600;
      margin-bottom: 200px;
      text-shadow: 1px 1px 3px rgba(0,0,0,0.3);
    }
    .heart {
      font-size: 30px;
      color: red;
      position: absolute;
      cursor: pointer;
      animation: float 6s linear infinite;
    }
    @keyframes float {
      from { transform: translateY(100vh); }
      to { transform: translateY(-10vh); }
    }
    .quiz {
      background: rgba(255, 182, 193, 0.95);
      padding: 20px;
      border-radius: 15px;
      box-shadow: 0 5px 15px rgba(0,0,0,0.2);
      color: #333;
    }
    input {
      padding: 8px;
      border: none;
      border-radius: 5px;
      margin-top: 5px;
      text-align: center;
      width: 80%;
      font-family: inherit;
    }
    button {
      padding: 8px 15px;
      margin-top: 10px;
      border: none;
      border-radius: 10px;
      background: #ff69b4;
      color: white;
      cursor: pointer;
      font-family: inherit;
    }
    /* Bear */
    .bear {
      position: relative;
      justify-content: center;
      align-items: center;
      flex-direction: column;
      margin-bottom: -50px;
    }
    .bear .ear {
      width: 60px;
      height: 60px;
      background: #d89f7b;
      border-radius: 50%;
      position: absolute;
      top: -30px;
    }
    .bear .ear.left { left: -70px; }
    .bear .ear.right { right: -70px; }
    .bear .head {
      width: 150px;
      height: 150px;
      background: #d89f7b;
      border-radius: 50%;
      position: relative;
      z-index: 5;
    }
    .bear .eye {
      width: 20px;
      height: 20px;
      background: black;
      border-radius: 50%;
      position: absolute;
      top: 50px;
    }
    .bear .eye.left { left: 35px; }
    .bear .eye.right { right: 35px; }
    .bear .snout {
      width: 60px;
      height: 50px;
      background: #f5e0c8;
      border-radius: 50%;
      position: absolute;
      bottom: 35px;
      left: 45px;
    }
    .bear .nose {
      width: 20px;
      height: 15px;
      background: black;
      border-radius: 50%;
      position: absolute;
      top: 10px;
      left: 20px;
    }
    .message-card {
      max-width: 600px;
      margin: auto;
      background: #fff0f5;
      padding: 20px;
      border-radius: 20px;
      box-shadow: 0 5px 15px rgba(0,0,0,0.3);
      text-align: center;
      font-size: 20px;
      color: #333;
      z-index: 20;
      position: relative;
      margin-top: -30px;
    }
    .floating-heart {
      position: absolute;
      font-size: 20px;
      color: pink;
      animation: drift 8s linear infinite;
      opacity: 0.8;
    }
    @keyframes drift {
      from { transform: translateY(100vh) translateX(0); }
      to { transform: translateY(-10vh) translateX(30px); }
    }
  </style>
</head>
<body>
    
  <div class="gift" id="gift">
    <div class="lid"></div>
  </div>

  <div class="hearts" id="hearts">
    <p class="instruction">Pop the three hearts babyðŸ’•</p>
  </div>

  <div class="quiz" id="quiz">
    <h2>Answer these first ðŸ’•</h2>
    <p>1. When did we first talk?</p>
    <input type="text" id="q1"><br>
    <p>2. What is my favorite color?</p>
    <input type="text" id="q2"><br>
    <p>3. What is our call sign?</p>
    <input type="text" id="q3"><br>
    <button onclick="checkAnswers()">Submit</button>
    <p id="hint"></p>
  </div>

  <div class="bear" id="bear">
    <div class="ear left"></div>
    <div class="ear right"></div>
    <div class="head">
      <div class="eye left"></div>
      <div class="eye right"></div>
      <div class="snout">
        <div class="nose"></div>
      </div>
    </div>
    <div class="message-card" id="message"></div>
  </div>

  <audio id="bg-music" loop>
    <source src="https://www.bensound.com/bensound-music/bensound-romantic.mp3" type="audio/mp3">
  </audio>

  <script>
    const gift = document.getElementById('gift');
    const heartsDiv = document.getElementById('hearts');
    const quiz = document.getElementById('quiz');
    const bear = document.getElementById('bear');
    const messageDiv = document.getElementById('message');
    const hint = document.getElementById('hint');
    const music = document.getElementById('bg-music');
    let heartsClicked = 0;

    // Open gift box
    gift.addEventListener('click', () => {
      gift.classList.add('opened');
      setTimeout(() => {
        gift.style.display = 'none';
        heartsDiv.style.display = 'block';
        for (let i = 0; i < 3; i++) {
          let heart = document.createElement('div');
          heart.innerHTML = "â¤ï¸";
          heart.classList.add('heart');
          heart.style.left = Math.random() * 80 + "vw";
          heart.style.top = Math.random() * 80 + "vh";
          heart.addEventListener('click', () => {
            heart.remove();
            heartsClicked++;
            if (heartsClicked === 3) {
              heartsDiv.style.display = 'none';
              quiz.style.display = 'block';
            }
          });
          heartsDiv.appendChild(heart);
        }
      }, 700);
    });

    // Check answers with flexibility
    function checkAnswers() {
      let a1 = document.getElementById('q1').value.trim().toLowerCase();
      let a2 = document.getElementById('q2').value.trim().toLowerCase();
      let a3 = document.getElementById('q3').value.trim().toLowerCase();

      const validDates = ["jan 20, 2025","january 20, 2025","jan 20","january 20","20"];

      if (validDates.includes(a1) && a2 === "black" && a3 === "baby") {
        quiz.style.display = 'none';
        startMessage();
      } else {
        hint.innerText = "Hmm, think again baby ðŸ˜˜";
      }
    }

    // Show message
    function startMessage() {
      // Floating hearts background
      for (let i = 0; i < 30; i++) {
        let el = document.createElement('div');
        el.classList.add('floating-heart');
        el.innerHTML = "â¤";
        el.style.left = Math.random()*100 + "vw";
        el.style.top = Math.random()*100 + "vh";
        document.body.appendChild(el);
      }

      // Music
      music.play();

      // Show bear and card
      bear.style.display = 'flex';

      // Typewriter effect
      messageDiv.innerHTML = "";
      let msg = "Happy Birthday, Baby! ðŸŽ‰â¤ï¸ Iâ€™m so blessed we first talked on Jan 20, 2025. You are my everything, my forever, my only love. I love you endlessly and I canâ€™t wait to spend more birthdays with you. ðŸ’• Happy Birthday, Baby! ðŸŽ‰â¤ï¸ Iâ€™m so blessed we first talked on Jan 20, 2025. You are my everything, my forever, my only love. I love you endlessly and I canâ€™t wait to spend more birthdays with you. ðŸ’• ";
      let i = 0;
      function typeWriter(){
        if(i<msg.length){
          messageDiv.innerHTML += msg.charAt(i);
          i++;
          setTimeout(typeWriter, 60);
        }
      }
      typeWriter();
    }
  </script>
</body>
</html>
